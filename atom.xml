<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>cclouds</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://cclouds.github.io/"/>
  <updated>2017-05-03T08:32:18.035Z</updated>
  <id>http://cclouds.github.io/</id>
  
  <author>
    <name>cclouds</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>单例模式</title>
    <link href="http://cclouds.github.io/2017/05/03/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
    <id>http://cclouds.github.io/2017/05/03/单例模式/</id>
    <published>2017-05-03T08:32:17.000Z</published>
    <updated>2017-05-03T08:32:18.035Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>抽象工厂模式</title>
    <link href="http://cclouds.github.io/2017/05/02/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"/>
    <id>http://cclouds.github.io/2017/05/02/抽象工厂模式/</id>
    <published>2017-05-02T07:24:40.000Z</published>
    <updated>2017-05-02T07:56:04.793Z</updated>
    
    <content type="html"><![CDATA[<h2 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h2><p>抽象工厂模式提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。</p>
<h3 id="JDBC连接项目"><a href="#JDBC连接项目" class="headerlink" title="JDBC连接项目"></a>JDBC连接项目</h3><p>BaseFactory接口：抽象的工厂接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BaseFactory</span> </span>&#123;</div><div class="line">      <span class="function">BaseUser <span class="title">createUser</span><span class="params">()</span></span>;</div><div class="line">      <span class="function">BaseDepartment <span class="title">createDepartment</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>MysqlFactory类实现BaseFactory接口，实例化MysqlUser,MysqlDepartment</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MysqlFactory</span> <span class="keyword">implements</span> <span class="title">BaseFactory</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> BaseUser <span class="title">createUser</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> MysqlUser();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> BaseDepartment <span class="title">createDepartment</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> MysqlDepartment();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>SqlServerFactory类实现BaseFactory接口，实例化SqlServerUser,SqlServerDepartment</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SqlServerFactory</span> <span class="keyword">implements</span> <span class="title">BaseFactory</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> BaseUser <span class="title">createUser</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> SqlServerUser();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> BaseDepartment <span class="title">createDepartment</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> SqlServerDepartment();	</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>BaseUser接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BaseUser</span> </span>&#123;	</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(User user)</span></span>;	</div><div class="line">	<span class="function">User <span class="title">getUSer</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>BaseDepartment接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">BaseDepartment</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(Department department)</span></span>;</div><div class="line">	<span class="function">Department <span class="title">getDepartment</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>MysqlUser实现BaseUser</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MysqlUser</span> <span class="keyword">implements</span> <span class="title">BaseUser</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Insert</span><span class="params">(User user)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"在Mysql User表中增加一条记录"</span>);	</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">getUSer</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"在Mysql User表中根据id查找记录"</span>);</div><div class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>MysqlDepartment实现BaseDepartment</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MysqlDepartment</span> <span class="keyword">implements</span> <span class="title">BaseDepartment</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Department department)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"在Mysql Department表中增加一条记录"</span>);	</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> Department <span class="title">getDepartment</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"在Mysql Department表中根据id查找记录"</span>);</div><div class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>SqlserverUser实现BaseUser</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SqlServerUser</span> <span class="keyword">implements</span> <span class="title">BaseUser</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Insert</span><span class="params">(User user)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"在SQL Server User表中增加一条记录"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">getUSer</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"在SQL Server User表中根据id查找记录"</span>);</div><div class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>SqlServerDepartment实现BaseDepartment</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SqlServerDepartment</span> <span class="keyword">implements</span> <span class="title">BaseDepartment</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Department department)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"在SQL Server Department表中增加一条记录"</span>);	</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> Department <span class="title">getDepartment</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</div><div class="line">		System.out.println(<span class="string">"在SQL Server Department表中根据id查找记录"</span>);</div><div class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>用户类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</div><div class="line">	</div><div class="line">	<span class="keyword">private</span> String name;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> id;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.id = id;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> name;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.name = name;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Department类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Department</span> </span>&#123;</div><div class="line">	</div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</div><div class="line">	</div><div class="line">	<span class="keyword">private</span> String departName;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> id;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.id = id;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getDepartName</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> departName;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDepartName</span><span class="params">(String departName)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.departName = departName;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>DataAccess类，用反射技术，取代BaseFactory，SqlServerFactory，MysqlFactory</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataAccess</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="keyword">private</span> String db;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getDb</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> db;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDb</span><span class="params">(String db)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.db = db;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> BaseUser <span class="title">createUser</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException,</span></div><div class="line">			InstantiationException, IllegalAccessException &#123;</div><div class="line">		<span class="keyword">if</span> (db != <span class="keyword">null</span> &amp;&amp; !db.equals(<span class="string">""</span>)) &#123;</div><div class="line">			<span class="comment">// 拼接字符串，注意类名包含包名</span></div><div class="line">			String className = <span class="string">"abstract_factory."</span> + db + <span class="string">"User"</span>;</div><div class="line">			<span class="comment">// 获取以className字符串为名的类</span></div><div class="line">			Class&lt;BaseUser&gt; baseUser = (Class&lt;BaseUser&gt;) Class</div><div class="line">					.forName(className);</div><div class="line">			<span class="comment">// 返回类的实例</span></div><div class="line">			<span class="keyword">return</span> baseUser.newInstance();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> BaseDepartment <span class="title">createDepartment</span><span class="params">()</span> <span class="keyword">throws</span> InstantiationException,</span></div><div class="line">			IllegalAccessException, ClassNotFoundException &#123;</div><div class="line">		<span class="keyword">if</span> (db != <span class="keyword">null</span> &amp;&amp; !db.equals(<span class="string">""</span>)) &#123;</div><div class="line">			<span class="comment">// 拼接字符串，注意类名包含包名</span></div><div class="line">			String className = <span class="string">"abstract_factory."</span> + db + <span class="string">"Department"</span>;</div><div class="line">			<span class="comment">// 获取以className字符串为名的类</span></div><div class="line">			Class&lt;BaseDepartment&gt; baseDepartment = (Class&lt;BaseDepartment&gt;) Class</div><div class="line">					.forName(className);</div><div class="line">			<span class="comment">// 返回类的实例</span></div><div class="line">			<span class="keyword">return</span> baseDepartment.newInstance();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>db.properties配置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">db=SqlServer</div></pre></td></tr></table></figure>
<p>读取prop配置文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Prop</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">GetProper</span><span class="params">()</span></span>&#123;</div><div class="line">		</div><div class="line">		Properties proper = <span class="keyword">new</span> Properties();</div><div class="line">		InputStream is = <span class="keyword">this</span>.getClass().getResourceAsStream(<span class="string">"DB.properties"</span>);</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			proper.load(is);</div><div class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">		String db = proper.getProperty(<span class="string">"db"</span>);</div><div class="line">		<span class="keyword">return</span> db;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		User user = <span class="keyword">new</span> User();</div><div class="line">		Department department = <span class="keyword">new</span> Department();</div><div class="line"></div><div class="line">		BaseFactory factory = <span class="keyword">new</span> MysqlFactory();</div><div class="line"></div><div class="line">		BaseUser mysqlUser = factory.createUser();</div><div class="line">		BaseDepartment mysqlDepartment = factory.createDepartment();</div><div class="line"></div><div class="line">		mysqlUser.Insert(user);</div><div class="line"></div><div class="line">		mysqlUser.getUSer(<span class="number">1</span>);</div><div class="line"></div><div class="line">		mysqlDepartment.insert(department);</div><div class="line"></div><div class="line">		mysqlDepartment.getDepartment(<span class="number">1</span>);</div><div class="line"></div><div class="line">		</div><div class="line">		<span class="comment">//读取db.properties使用反射</span></div><div class="line">		Prop prop = <span class="keyword">new</span> Prop();</div><div class="line">		String db = prop.GetProper();</div><div class="line">		DataAccess dataAccess = <span class="keyword">new</span> DataAccess();</div><div class="line">		dataAccess.setDb(db);</div><div class="line"></div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			BaseUser baseUser = dataAccess.createUser();</div><div class="line">			baseUser.Insert(user);</div><div class="line">			baseUser.getUSer(<span class="number">1</span>);</div><div class="line">			BaseDepartment baseDepartment = dataAccess.createDepartment();</div><div class="line">			baseDepartment.insert(department);</div><div class="line">			baseDepartment.getDepartment(<span class="number">1</span>);</div><div class="line"></div><div class="line">		&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125; <span class="keyword">catch</span> (InstantiationException e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;抽象工厂模式&quot;&gt;&lt;a href=&quot;#抽象工厂模式&quot; class=&quot;headerlink&quot; title=&quot;抽象工厂模式&quot;&gt;&lt;/a&gt;抽象工厂模式&lt;/h2&gt;&lt;p&gt;抽象工厂模式提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。&lt;/p&gt;
&lt;h3 id=&quot;J
    
    </summary>
    
    
      <category term="设计模式" scheme="http://cclouds.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>工厂方法模式</title>
    <link href="http://cclouds.github.io/2017/05/02/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/"/>
    <id>http://cclouds.github.io/2017/05/02/工厂方法模式/</id>
    <published>2017-05-02T06:25:46.000Z</published>
    <updated>2017-05-02T06:34:49.730Z</updated>
    
    <content type="html"><![CDATA[<p>##工厂方法模式</p>
<p>工厂方法模式的用意是定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类中。</p>
<h3 id="计算器项目"><a href="#计算器项目" class="headerlink" title="计算器项目"></a>计算器项目</h3><p>工厂接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Factory</span> </span>&#123;</div><div class="line">	<span class="function">Operation <span class="title">createOperation</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>加法类工厂实现工厂接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AddFactory</span> <span class="keyword">implements</span> <span class="title">Factory</span></span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> Operation <span class="title">createOperation</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> OperationAdd();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>除法类工厂实现工厂接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DivFactory</span> <span class="keyword">implements</span> <span class="title">Factory</span></span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> Operation <span class="title">createOperation</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>乘法类工厂实现工厂接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MulFactory</span> <span class="keyword">implements</span> <span class="title">Factory</span></span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> Operation <span class="title">createOperation</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> OperationMul();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>减法类工厂实现工厂接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SubFactory</span> <span class="keyword">implements</span> <span class="title">Factory</span></span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> Operation <span class="title">createOperation</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> OperationSub();</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运算类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Operation</span> </span>&#123;</div><div class="line">	</div><div class="line">	<span class="keyword">protected</span> <span class="keyword">double</span> number1;</div><div class="line">	</div><div class="line">	<span class="keyword">protected</span> <span class="keyword">double</span> number2;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getNumber1</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> number1;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNumber1</span><span class="params">(<span class="keyword">double</span> number1)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.number1 = number1;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getNumber2</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> number2;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNumber2</span><span class="params">(<span class="keyword">double</span> number2)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.number2 = number2;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>加法类继承运算类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperationAdd</span> <span class="keyword">extends</span> <span class="title">Operation</span></span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">double</span> result = <span class="number">0</span>;</div><div class="line">		result = number1 + number2;</div><div class="line">		<span class="keyword">return</span> result;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>除法类继承运算类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperationDiv</span> <span class="keyword">extends</span> <span class="title">Operation</span></span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">double</span> result = <span class="number">0</span>;</div><div class="line">		<span class="keyword">if</span>(number2 == <span class="number">0</span>)&#123;</div><div class="line">			<span class="keyword">try</span> &#123;</div><div class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"除数不能为0"</span>);</div><div class="line">			&#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">				e.printStackTrace();</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		result = number1/number2;</div><div class="line">		<span class="keyword">return</span> result;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>乘法类继承运算类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperationMul</span> <span class="keyword">extends</span> <span class="title">Operation</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">double</span> result = <span class="number">0</span>;</div><div class="line">		result = number1 * number2;</div><div class="line">		<span class="keyword">return</span> result;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>减法类继承运算类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperationSub</span> <span class="keyword">extends</span> <span class="title">Operation</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">double</span> result = <span class="number">0</span>;</div><div class="line">		result = number1 - number2;</div><div class="line">		<span class="keyword">return</span> result;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		Factory factory = <span class="keyword">new</span> AddFactory();</div><div class="line">		Operation opera = factory.createOperation();</div><div class="line">		opera.setNumber1(<span class="number">1</span>);</div><div class="line">		opera.setNumber2(<span class="number">2</span>);</div><div class="line">		System.out.println(opera.getResult());</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;##工厂方法模式&lt;/p&gt;
&lt;p&gt;工厂方法模式的用意是定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类中。&lt;/p&gt;
&lt;h3 id=&quot;计算器项目&quot;&gt;&lt;a href=&quot;#计算器项目&quot; class=&quot;headerlink&quot; title=&quot;计算器项目&quot;&gt;&lt;/a&gt;计算器项目&lt;/
    
    </summary>
    
    
      <category term="设计模式" scheme="http://cclouds.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>简单工厂模式</title>
    <link href="http://cclouds.github.io/2017/05/02/%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"/>
    <id>http://cclouds.github.io/2017/05/02/简单工厂模式/</id>
    <published>2017-05-02T05:48:22.000Z</published>
    <updated>2017-05-02T06:20:30.132Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h2><p>简单工厂模式又叫做静态工厂方法模式，简单工厂模式是由一个工厂对象决定创建出哪一种产品类的实例。</p>
<h3 id="计算器项目"><a href="#计算器项目" class="headerlink" title="计算器项目"></a>计算器项目</h3><p>运算类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Operation</span> </span>&#123;</div><div class="line">	</div><div class="line">	<span class="keyword">protected</span> <span class="keyword">double</span> number1;</div><div class="line">	</div><div class="line">	<span class="keyword">protected</span> <span class="keyword">double</span> number2;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getNumber1</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> number1;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNumber1</span><span class="params">(<span class="keyword">double</span> number1)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.number1 = number1;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getNumber2</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> number2;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNumber2</span><span class="params">(<span class="keyword">double</span> number2)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.number2 = number2;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">()</span></span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>加法类继承运算类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperationAdd</span> <span class="keyword">extends</span> <span class="title">Operation</span></span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">double</span> result = <span class="number">0</span>;</div><div class="line">		result = number1 + number2;</div><div class="line">		<span class="keyword">return</span> result;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>除法类继承运算类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperationDiv</span> <span class="keyword">extends</span> <span class="title">Operation</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">double</span> result = <span class="number">0</span>;</div><div class="line">		<span class="keyword">if</span>(number2 == <span class="number">0</span>)&#123;</div><div class="line">			<span class="keyword">try</span> &#123;</div><div class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"除数不能为0"</span>);</div><div class="line">			&#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">				e.printStackTrace();</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		result = number1/number2;</div><div class="line">		<span class="keyword">return</span> result;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>乘法类继承运算类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperationMul</span> <span class="keyword">extends</span> <span class="title">Operation</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">double</span> result = <span class="number">0</span>;</div><div class="line">		result = number1 * number2;</div><div class="line">		<span class="keyword">return</span> result;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>减法类继承运算类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperationSub</span> <span class="keyword">extends</span> <span class="title">Operation</span></span>&#123;</div><div class="line"></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getResult</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">double</span> result = <span class="number">0</span>;</div><div class="line">		result = number1 - number2;</div><div class="line">		<span class="keyword">return</span> result;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运算工厂类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperationFactory</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Operation <span class="title">createOperate</span><span class="params">(String operate)</span></span>&#123;</div><div class="line">		Operation oper = <span class="keyword">null</span>;</div><div class="line">		<span class="keyword">switch</span> (operate) &#123;</div><div class="line">		<span class="keyword">case</span> <span class="string">"+"</span>:</div><div class="line">			oper = <span class="keyword">new</span> OperationAdd();</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		<span class="keyword">case</span> <span class="string">"-"</span>:</div><div class="line">			oper = <span class="keyword">new</span> OperationSub();</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		<span class="keyword">case</span> <span class="string">"*"</span>:</div><div class="line">			oper = <span class="keyword">new</span> OperationMul();</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		<span class="keyword">case</span> <span class="string">"/"</span>:</div><div class="line">			oper = <span class="keyword">new</span> OperationDiv();</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		<span class="keyword">default</span>:</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> oper;	</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		Operation oper = OperationFactory.createOperate(<span class="string">"+"</span>);</div><div class="line">		oper.setNumber1(<span class="number">2</span>);</div><div class="line">		oper.setNumber2(<span class="number">1</span>);</div><div class="line">		System.out.println(oper.getResult());</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;简单工厂模式&quot;&gt;&lt;a href=&quot;#简单工厂模式&quot; class=&quot;headerlink&quot; title=&quot;简单工厂模式&quot;&gt;&lt;/a&gt;简单工厂模式&lt;/h2&gt;&lt;p&gt;简单工厂模式又叫做静态工厂方法模式，简单工厂模式是由一个工厂对象决定创建出哪一种产品类的实例。&lt;/p&gt;
&lt;h
    
    </summary>
    
    
      <category term="设计模式" scheme="http://cclouds.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>hexo提交搜索引擎</title>
    <link href="http://cclouds.github.io/2017/04/28/hexo%E6%8F%90%E4%BA%A4%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/"/>
    <id>http://cclouds.github.io/2017/04/28/hexo提交搜索引擎/</id>
    <published>2017-04-28T06:25:05.000Z</published>
    <updated>2017-05-02T05:45:47.874Z</updated>
    
    <content type="html"><![CDATA[<p>分别介绍谷歌和百度如何提交搜索引擎</p>
<h2 id="确认博客是否被收录"><a href="#确认博客是否被收录" class="headerlink" title="确认博客是否被收录"></a>确认博客是否被收录</h2><p>在百度或者谷歌上面输入下面格式来判断，如果能搜索到就说明被收录，否则就没有</p>
<p> <img src="http://i4.buimg.com/567571/1de93318774276ab.png" alt=""></p>
<p> <img src="http://i1.piimg.com/567571/8b28a88c5beb3dbf.png" alt=""></p>
<h2 id="验证网站"><a href="#验证网站" class="headerlink" title="验证网站"></a>验证网站</h2><p>两个搜索引擎入口：</p>
<ul>
<li><a href="https://www.google.com/webmasters/tools/home?hl=zh-CN" target="_blank" rel="external">Google搜索引擎提交入口</a></li>
<li><a href="http://www.baidu.com/search/url_submit.htm" target="_blank" rel="external">百度搜索引擎入口</a></li>
</ul>
<p>在百度和谷歌分别添加cclouds.github.io   然后验证网站，这里统一都使用文件验证，就是下载对应的html文件，放到域名根目录下，也就收博客根目录下的source下面</p>
<p> <img src="http://i1.piimg.com/567571/c780c0a94c665b2c.png" alt=""></p>
<p>然后部署到服务器,输入地址：<a href="https://cclouds.github.io/baidu_verify_ovYuyaTjKS">https://cclouds.github.io/baidu_verify_ovYuyaTjKS</a> 能访问到就可以点验证按钮。</p>
<p> <img src="http://i2.muimg.com/567571/65c41a7e9a788b50.png" alt=""></p>
<p>站点地图是一种文件，您可以通过该文件列出您网站上的网页，从而将您网站内容的组织架构告知Google和其他搜索引擎。Googlebot等搜索引擎网页抓取工具会读取此文件，以便更加智能地抓取您的网站。</p>
<p>我们要先安装一下，打开你的hexo博客根目录，分别用下面两个命令来安装针对谷歌和百度的插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install hexo-generator-sitemap --save</div><div class="line">npm install hexo-generator-baidu-sitemap --save</div></pre></td></tr></table></figure>
<p>编译你的博客,如果你在你的博客根目录的<code>public</code>下面发现生成了<code>sitemap.xml</code>以及<code>baidusitemap.xml</code>就表示成功了</p>
<p>部署后你分别访问<br><a href="https://cclouds.github.io/sitemap.xml">https://cclouds.github.io/sitemap.xml</a><br><a href="https://cclouds.github.io/baidusitemap.xml">https://cclouds.github.io/baidusitemap.xml</a></p>
<p>效果如下</p>
<p> <img src="http://i4.buimg.com/567571/c285fc084d4dec47.png" alt=""></p>
<p> <img src="http://i4.buimg.com/567571/6c0b6994eb0cff12.png" alt=""></p>
<h2 id="让谷歌收录博客"><a href="#让谷歌收录博客" class="headerlink" title="让谷歌收录博客"></a>让谷歌收录博客</h2><p>谷歌操作比较简单，就是向<a href="https://www.google.com/webmasters/tools" target="_blank" rel="external">Google站长工具</a>提交sitemap</p>
<p>登录Google账号，添加了站点验证通过后，选择站点，之后在<code>抓取</code>——<code>站点地图</code>中就能看到<code>添加/测试站点地图</code>，如下图：</p>
<p> <img src="http://i4.buimg.com/567571/bb8b9b0f0cf388cd.png" alt=""></p>
<h2 id="让百度收录博客"><a href="#让百度收录博客" class="headerlink" title="让百度收录博客"></a>让百度收录博客</h2><p>进入站点管理，找到网页抓取这边详情点进去</p>
<p> <img src="http://i4.buimg.com/567571/a5bd07d145fe8d5c.png" alt=""></p>
<blockquote>
<p>如何选择链接提交方式<br>1、主动推送：最为快速的提交方式，推荐您将站点当天新产出链接立即通过此方式推送给百度，以保证新链接可以及时被百度收录。<br>2、自动推送：最为便捷的提交方式，请将自动推送的JS代码部署在站点的每一个页面源代码中，部署代码的页面在每次被浏览时，链接会被自动推送给百度。可以与主动推送配合使用。<br>3、sitemap：您可以定期将网站链接放到sitemap中，然后将sitemap提交给百度。百度会周期性的抓取检查您提交的sitemap，对其中的链接进行处理，但收录速度慢于主动推送。<br>4、手动提交：一次性提交链接给百度，可以使用此种方式。</p>
</blockquote>
<p>这里介绍自动推送</p>
<p>在你代码里面嵌入自动推送JS代码，在页面被访问时，页面URL将立即被推送给百度<br>代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> bp = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</div><div class="line">    <span class="keyword">var</span> curProtocol = <span class="built_in">window</span>.location.protocol.split(<span class="string">':'</span>)[<span class="number">0</span>];</div><div class="line">    <span class="keyword">if</span> (curProtocol === <span class="string">'https'</span>) &#123;</div><div class="line">        bp.src = <span class="string">'https://zz.bdstatic.com/linksubmit/push.js'</span>;        </div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> &#123;</div><div class="line">        bp.src = <span class="string">'http://push.zhanzhang.baidu.com/push.js'</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> s = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"script"</span>)[<span class="number">0</span>];</div><div class="line">    s.parentNode.insertBefore(bp, s);</div><div class="line">&#125;)();</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>我是放在<code>\themes\jacman\layout\_partial\after_footer.ejs</code>中，添加到下面就行。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;分别介绍谷歌和百度如何提交搜索引擎&lt;/p&gt;
&lt;h2 id=&quot;确认博客是否被收录&quot;&gt;&lt;a href=&quot;#确认博客是否被收录&quot; class=&quot;headerlink&quot; title=&quot;确认博客是否被收录&quot;&gt;&lt;/a&gt;确认博客是否被收录&lt;/h2&gt;&lt;p&gt;在百度或者谷歌上面输入下面格式来判
    
    </summary>
    
    
      <category term="hexo系列" scheme="http://cclouds.github.io/tags/hexo%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>hexo+jacman主题下载和配置</title>
    <link href="http://cclouds.github.io/2017/04/28/hexo-jacman%E4%B8%BB%E9%A2%98%E4%B8%8B%E8%BD%BD%E5%92%8C%E9%85%8D%E7%BD%AE/"/>
    <id>http://cclouds.github.io/2017/04/28/hexo-jacman主题下载和配置/</id>
    <published>2017-04-28T05:11:50.000Z</published>
    <updated>2017-05-02T06:55:27.652Z</updated>
    
    <content type="html"><![CDATA[<p>Jacman是一款为Hexo打造的一款扁平化，有着响应式设计的主题</p>
<h2 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h2><p>$ git clone <a href="https://github.com/wuchong/jacman.git" target="_blank" rel="external">https://github.com/wuchong/jacman.git</a> themes/jacman</p>
<h2 id="启用"><a href="#启用" class="headerlink" title="启用"></a>启用</h2><p>修改你的博客根目录下的<code>config.yml</code>配置文件中的<code>theme</code>属性，将其设置为<code>jacman</code>。</p>
<h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><p>cd themes/jacman<br>git pull</p>
<p>更新好后，本地启动起来效果</p>
<p>hexo server -g  #生成加预览</p>
<p>访问<a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a> 看生成效果</p>
<h2 id="hexo文目录"><a href="#hexo文目录" class="headerlink" title="hexo文目录"></a>hexo文目录</h2><p>_config.yml:网站的 配置 信息，您可以在此配置大部分的参数。<br>package.json:应用程序的信息。<br>scaffolds:模版文件夹。当您新建文章时，Hexo会根据scaffold 来建立文件。<br>source:资源文件夹是存放用户资源的地方。除<em>posts文件夹之外，开头命名为</em>(下划线)的文件/文件夹和隐藏的文件将会被忽略。Markdown和HTML文件会被解析并放到public文件夹，而其他文件会被拷贝过去。<br>themes:主题 文件夹。Hexo会根据主题来生成静态页面。</p>
<h2 id="hexo的-config-yml配置"><a href="#hexo的-config-yml配置" class="headerlink" title="hexo的_config.yml配置"></a>hexo的_config.yml配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"># Hexo Configuration</div><div class="line">## Docs: https://hexo.io/docs/configuration.html</div><div class="line">## Source: https://github.com/hexojs/hexo/</div><div class="line"></div><div class="line"># Site</div><div class="line">title: cclouds   #网站标题</div><div class="line">subtitle:        #网站副标题</div><div class="line">description:     #网站描述</div><div class="line">author: cclouds         #您的名字</div><div class="line">language: zh-CN	 #网站使用的语言</div><div class="line">timezone:        #网站时区。Hexo 默认使用您电脑的时区</div><div class="line"></div><div class="line"># URL</div><div class="line">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</div><div class="line">url: http://cclouds.github.io</div><div class="line">root: /</div><div class="line">permalink: :year/:month/:day/:title/</div><div class="line">permalink_defaults:</div><div class="line"></div><div class="line"># Directory</div><div class="line">source_dir: source         #源文件夹，这个文件夹用来存放内容。</div><div class="line">public_dir: public         #公共文件夹，这个文件夹用于存放生成的站点文件。</div><div class="line">tag_dir: tags              #标签文件夹</div><div class="line">archive_dir: archives      #归档文件夹</div><div class="line">category_dir: categories   #分类文件夹</div><div class="line">code_dir: downloads/code   #nclude code 文件夹</div><div class="line">i18n_dir: :lang            #国际化（i18n）文件夹</div><div class="line">skip_render:               #跳过指定文件的渲染，您可使用 glob 表达式来匹配路径。</div><div class="line"></div><div class="line"># Writing</div><div class="line">new_post_name: :title.md   # 新建文章默认文件名</div><div class="line">default_layout: post   # 默认布局</div><div class="line">titlecase: false # Transform title into titlecase</div><div class="line">external_link: true # 在新标签中打开一个外部链接，默认为true</div><div class="line">filename_case: 0     #转换文件名，1代表小写；2代表大写；默认为0，意思就是创建文章的时候，是否自动帮你转换文件名，默认就行，意义不大。</div><div class="line">render_drafts: false    #是否渲染_drafts目录下的文章，默认为false</div><div class="line">post_asset_folder: false    #启动 Asset 文件夹</div><div class="line">relative_link: false    #把链接改为与根目录的相对位址，默认false</div><div class="line">future: true            #显示未来的文章，默认false</div><div class="line">highlight:              #代码块的设置</div><div class="line">  enable: true</div><div class="line">  line_number: true</div><div class="line">  auto_detect: false</div><div class="line">  tab_replace:</div><div class="line"></div><div class="line"># Category &amp; Tag</div><div class="line">default_category: uncategorized           #默认分类</div><div class="line">category_map:                             #分类别名</div><div class="line">tag_map:                                  #标签别名</div><div class="line"></div><div class="line"># Date / Time format</div><div class="line">## Hexo uses Moment.js to parse and display date</div><div class="line">## You can customize the date format as defined in</div><div class="line">## http://momentjs.com/docs/#/displaying/format/</div><div class="line">date_format: YYYY-MM-DD</div><div class="line">time_format: HH:mm:ss</div><div class="line"></div><div class="line"># Pagination</div><div class="line">## Set per_page to 0 to disable pagination</div><div class="line">per_page: 10                  #每页显示的文章量 (0 = 关闭分页功能)</div><div class="line">pagination_dir: page          #分页目录</div><div class="line"></div><div class="line"># Extensions</div><div class="line">## Plugins: https://hexo.io/plugins/</div><div class="line">## Themes: https://hexo.io/themes/</div><div class="line">theme: jacman</div><div class="line"></div><div class="line"># Deployment</div><div class="line">## Docs: https://hexo.io/docs/deployment.html</div><div class="line">deploy:</div><div class="line">  type: git</div><div class="line">  repository: https://github.com/cclouds/cclouds.github.io.git</div><div class="line">  branch: master</div></pre></td></tr></table></figure>
<h2 id="主题jacman的-config-yml配置"><a href="#主题jacman的-config-yml配置" class="headerlink" title="主题jacman的_config.yml配置"></a>主题jacman的_config.yml配置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div></pre></td><td class="code"><pre><div class="line">##### Menu</div><div class="line">menu:</div><div class="line">  Home: /</div><div class="line">  Archives: /archives</div><div class="line">  标签: /tags</div><div class="line">  分类: /categories</div><div class="line">## you can create `tags` and `categories` folders in `../source`.</div><div class="line">## And create a `index.md` file in each of them.</div><div class="line">## set `front-matter`as</div><div class="line">## layout: tags (or categories)</div><div class="line">## title: tags (or categories)</div><div class="line">## ---</div><div class="line"></div><div class="line">#### Widgets</div><div class="line">widgets: </div><div class="line">- github-card</div><div class="line">- category</div><div class="line">- tag</div><div class="line">- links</div><div class="line">- douban</div><div class="line">- rss</div><div class="line">- weibo</div><div class="line">  ## provide eight widgets:github-card,category,tag,rss,archive,tagcloud,links,weibo</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">#### RSS </div><div class="line">rss: /atom.xml ## RSS address.</div><div class="line"></div><div class="line">#### Image</div><div class="line">imglogo:</div><div class="line">  enable: true             ## display image logo true/false.</div><div class="line">  src: img/cclouds.JPG        ## `.svg` and `.png` are recommended,please put image into the theme folder `/jacman/source/img`.</div><div class="line">favicon: img/ico.ico   ## size:32px*32px,`.ico` is recommended,please put image into the theme folder `/jacman/source/img`.     </div><div class="line">apple_icon: img/jacman.jpg ## size:114px*114px,please put image into the theme folder `/jacman/source/img`.</div><div class="line">author_img: img/jacman.jpg ## size:220px*220px.display author avatar picture.if don&apos;t want to display,please don&apos;t set this.</div><div class="line">banner_img: img/banner.jpg ## size:1920px*200px+. Banner Picture</div><div class="line">### Theme Color </div><div class="line">theme_color:</div><div class="line">    theme: &apos;#2ca6cb&apos;    ##the defaut theme color is blue</div><div class="line"></div><div class="line"># 代码高亮主题</div><div class="line"># available: default | night</div><div class="line">highlight_theme: default</div><div class="line"></div><div class="line">#### index post is expanding or not </div><div class="line">index:</div><div class="line">  expand: false           ## default is unexpanding,so you can only see the short description of each post.</div><div class="line">  excerpt_link: Read More  </div><div class="line"></div><div class="line">close_aside: false  #close sidebar in post page if true</div><div class="line">mathjax: false      #enable mathjax if true</div><div class="line"></div><div class="line">### Creative Commons License Support, see http://creativecommons.org/ </div><div class="line">### you can choose: by , by-nc , by-nc-nd , by-nc-sa , by-nd , by-sa , zero</div><div class="line">creative_commons: none</div><div class="line"></div><div class="line">#### Author information</div><div class="line">author:</div><div class="line">  intro_line1:  &quot;Less is more.&quot;    ## your introduction on the bottom of the page</div><div class="line">  intro_line2:  &quot;This is my blog.&quot;  ## the 2nd line</div><div class="line">  weibo:     ## e.g. wuchong1014 or 2176287895 for http://weibo.com/2176287895</div><div class="line">  weibo_verifier: b3593ceb    ## e.g. b3593ceb Your weibo-show widget verifier ,if you use weibo-show it is needed.</div><div class="line">  tsina:      ## e.g. 2176287895  Your weibo ID,It will be used in share button.</div><div class="line">  douban:     ## e.g. wuchong1014 or your id for https://www.douban.com/people/wuchong1014</div><div class="line">  zhihu:      ## e.g. jark  for http://www.zhihu.com/people/jark</div><div class="line">  email:      ## e.g. imjark@gmail.com</div><div class="line">  twitter:    ## e.g. jarkwu for https://twitter.com/jarkwu</div><div class="line">  github:     ## e.g. wuchong for https://github.com/wuchong</div><div class="line">  facebook:   ## e.g. imjark for https://facebook.com/imjark</div><div class="line">  linkedin:   ## e.g. wuchong1014 for https://www.linkedin.com/in/wuchong1014</div><div class="line">  google_plus:    ## e.g. &quot;111190881341800841449&quot; for https://plus.google.com/u/0/111190881341800841449, the &quot;&quot; is needed!</div><div class="line">  stackoverflow:  ## e.g. 3222790 for http://stackoverflow.com/users/3222790/jark</div><div class="line">## if you set them, the corresponding  share button will show on the footer</div><div class="line"></div><div class="line">#### Toc</div><div class="line">toc:</div><div class="line">  article: true   ## show contents in article.</div><div class="line">  aside: true     ## show contents in aside.</div><div class="line">## you can set both of the value to true of neither of them.</div><div class="line">## if you don&apos;t want display contents in a specified post,you can modify `front-matter` and add `toc: false`.</div><div class="line"></div><div class="line">#### Links</div><div class="line">links:</div><div class="line">  ###码农圈: https://coderq.com,一个面向程序员交流分享的新一代社区</div><div class="line">  ###Jark&apos;s Blog: http://wuchong.me</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">#### Comment</div><div class="line">duoshuo_shortname:    ## e.g. wuchong   your duoshuo short name.</div><div class="line">disqus_shortname:     ## e.g. wuchong   your disqus short name.</div><div class="line"></div><div class="line">#### Share button</div><div class="line">jiathis:</div><div class="line">  enable: false ## if you use jiathis as your share tool,the built-in share tool won&apos;t be display.</div><div class="line">  id:    ## e.g. 1889330 your jiathis ID. </div><div class="line">  tsina: ## e.g. 2176287895 Your weibo id,It will be used in share button.</div><div class="line"></div><div class="line">#### Analytics</div><div class="line">google_analytics:</div><div class="line">  enable: false</div><div class="line">  id:        ## e.g. UA-46321946-2 your google analytics ID.</div><div class="line">  site:      ## e.g. wuchong.me your google analytics site or set the value as auto.</div><div class="line">## You MUST upgrade to Universal Analytics first!</div><div class="line">## https://developers.google.com/analytics/devguides/collection/upgrade/?hl=zh_CN</div><div class="line">baidu_tongji:</div><div class="line">  enable: true</div><div class="line">  sitecode: e6d1f421bbc9962127a50488f9ed37d1 ## e.g. e6d1f421bbc9962127a50488f9ed37d1 your baidu tongji site code</div><div class="line">cnzz_tongji:</div><div class="line">  enable: true</div><div class="line">  siteid:    ## e.g. 1253575964 your cnzz tongji site id</div><div class="line"></div><div class="line">#### Miscellaneous</div><div class="line">ShowCustomFont: true  ## you can change custom font in `variable.styl` and `font.styl` which in the theme folder `/jacman/source/css`.</div><div class="line">fancybox: true        ## if you use gallery post or want use fancybox please set the value to true.</div><div class="line">totop: true           ## if you want to scroll to top in every post set the value to true</div><div class="line"></div><div class="line"></div><div class="line">#### Custom Search</div><div class="line">google_cse: </div><div class="line">  enable: false</div><div class="line">  cx:   ## e.g. 018294693190868310296:abnhpuysycw your Custom Search ID.</div><div class="line">## https://www.google.com/cse/ </div><div class="line">## To enable the custom search You must create a &quot;search&quot; folder in &apos;/source&apos; and a &quot;index.md&quot; file</div><div class="line">## set the &apos;front-matter&apos; as</div><div class="line">## layout: search </div><div class="line">## title: search</div><div class="line">## ---</div><div class="line">baidu_search:     ## http://zn.baidu.com/</div><div class="line">  enable: false</div><div class="line">  id:   ## e.g. &quot;783281470518440642&quot;  for your baidu search id</div><div class="line">  site: http://zhannei.baidu.com/cse/search  ## your can change to your site instead of the default site</div><div class="line">  </div><div class="line">tinysou_search:     ## http://tinysou.com/</div><div class="line">  enable: false</div><div class="line">  id:  ## e.g. &quot;4ac092ad8d749fdc6293&quot; for your tiny search id</div><div class="line">  </div><div class="line">feed:</div><div class="line">  type: atom</div><div class="line">  path: atom.xml</div><div class="line">  limit: 20</div><div class="line">  hub:</div></pre></td></tr></table></figure>
<p>因为主题中已经内置了这两个页面的模板，所以他们会被正确的解析出来。</p>
<ul>
<li><p>menu 默认没有启用 <code>/tags</code> 和 <code>/categories</code> 页面，如果需要启用请在博客目录下的<code>source</code>文件夹中分别建立<code>tags</code>和<code>categories</code>文件夹每个文件夹中分别包含一个<code>index.md</code>文件。内容为：<code>layout: tags (或categories)title: tags (或categories)---</code>因为主题中已经内置了这两个页面的模板，所以他们会被正确的解析出来。</p>
</li>
<li><p>widgets: 提供了8种小工具。</p>
</li>
<li>rss: 请填写你博客的RSS地址。</li>
<li>theme_color: 默认主题颜色，修改一下就能改变整个博客主题颜色</li>
<li>ShowCustomFont: 启用自定义字体，可以修改<code>font.styl</code>替换为你喜欢的字体。</li>
<li>toc: 是否启用在文章中或侧边栏中的目录功能。二者可以都为<code>true</code>或都为<code>false</code>。同时，如果你希望在特定的某一篇文章中关闭目录功能你可以在文章文件开头中的<code>front-matter</code>中加上一行<code>toc: false</code>。</li>
<li>fancybox: 默认关闭，如果你使用Hexo经常发表Gallery类型的文章，那么请设置为<code>true</code>（同时需要复制<code>fancybox.js</code>到你的博客目录下scripts文件夹中）</li>
</ul>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>大家还可以去<a href="https://hexo.io/themes" target="_blank" rel="external">官网</a>选择喜欢主题</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Jacman是一款为Hexo打造的一款扁平化，有着响应式设计的主题&lt;/p&gt;
&lt;h2 id=&quot;安装主题&quot;&gt;&lt;a href=&quot;#安装主题&quot; class=&quot;headerlink&quot; title=&quot;安装主题&quot;&gt;&lt;/a&gt;安装主题&lt;/h2&gt;&lt;p&gt;$ git clone &lt;a href=&quot;
    
    </summary>
    
    
      <category term="hexo系列" scheme="http://cclouds.github.io/tags/hexo%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>hexo+github个人博客搭建</title>
    <link href="http://cclouds.github.io/2017/04/28/hexo-github%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    <id>http://cclouds.github.io/2017/04/28/hexo-github个人博客搭建/</id>
    <published>2017-04-28T03:18:20.000Z</published>
    <updated>2017-05-02T05:46:02.658Z</updated>
    
    <content type="html"><![CDATA[<h2 id="hexo-github个人博客搭建"><a href="#hexo-github个人博客搭建" class="headerlink" title="hexo+github个人博客搭建"></a>hexo+github个人博客搭建</h2><h2 id="安装前提软件"><a href="#安装前提软件" class="headerlink" title="安装前提软件"></a>安装前提软件</h2><p><a href="https://nodejs.org/en" target="_blank" rel="external">Node.js</a>:</p>
<p><a href="http://git-scm.com/download" target="_blank" rel="external">Git客户端</a>:</p>
<h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>hexo常用的命令：<br>hexo g #完整命令为hexo generate,用于生成静态文件<br>hexo s #完整命令为hexo server,用于启动服务器，主要用来本地预览<br>hexo d #完整命令为hexo deploy,用于将本地文件发布到github上<br>hexo n #完整命令为hexo new,用于新建一篇文章</p>
<p>输入安装hexo命令：npm install -g hexo</p>
<p>安装完成后，在你喜爱的文件夹下（如E:\Hexo），执行以下指令(在E:\Hexo内点击鼠标右键，选择Git Bash)，Hexo 即会自动在目标文件夹建立网站所需要的所有文件。<br>输入命令：hexo init</p>
<p>安装依赖包：npm install</p>
<p>在E:\hexo内执行以下命令：<br>hexo g<br>hexo s</p>
<p>然后用浏览器访问<a href="http://localhost:4000，" target="_blank" rel="external">http://localhost:4000，</a> 此时，你应该看到了一个漂亮的博客</p>
<h3 id="注册Github帐号"><a href="#注册Github帐号" class="headerlink" title="注册Github帐号"></a>注册Github帐号</h3><p>进入<a href="https://github.com/" target="_blank" rel="external">Github</a>进行注册</p>
<h3 id="创建repository"><a href="#创建repository" class="headerlink" title="创建repository"></a>创建repository</h3><p>首先，登陆进入<a href="https://github.com/" target="_blank" rel="external">Github</a>，并进入个人页面，选择<code>repositorie，然后New一个</code>repository</p>
<p> <img src="http://i4.buimg.com/567571/2b9af8f59d8ba258.png" alt=""></p>
<h3 id="部署本地文件到github"><a href="#部署本地文件到github" class="headerlink" title="部署本地文件到github"></a>部署本地文件到github</h3><p>编辑E：\hexo下的_config.yml文件，建议使用Notepad++。<br>在_config.yml最下方，添加如下配置(命令中的第一个cclouds为Github的用户名,第二个cclouds为之前New的Repository的名字,hexo的配置文件中任何’:’后面都是带一个空格的)</p>
<p>deploy:<br>  type: git<br>  repository: <a href="https://github.com/cclouds/cclouds.github.io.git" target="_blank" rel="external">https://github.com/cclouds/cclouds.github.io.git</a><br>  branch: master</p>
<p>配置_config.yml并保存,然后配置SSH</p>
<p>输入以下指令（邮箱就是你注册Github时候的邮箱）后，回车，出现提示让你输入的时候直接回车如下图所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-keygen -t rsa -C &quot;272148451@qq.com&quot;</div></pre></td></tr></table></figure>
<p> <img src="http://i4.buimg.com/567571/96f2ef94c96a8016.png" alt=""></p>
<p>然后输入以下指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-agent -s</div></pre></td></tr></table></figure>
<p>继续输入指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-add ~/.ssh/id_rsa</div></pre></td></tr></table></figure>
<p>如果出现这样的错误</p>
<p>  <img src="http://i4.buimg.com/567571/4ec45b9626c0f1fa.png" alt=""></p>
<p>输入以下指令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">eval `ssh-agent -s`</div><div class="line">ssh-add</div></pre></td></tr></table></figure>
<p>然后到c/Users/cclouds/.shh/id_rsa拷贝SSH Key</p>
<p>进入Github里面，点击右上角的设置图标Settings,找到SSH and GPG keys,选择New SSH key</p>
<p>title随便取 key粘贴刚才的SSH</p>
<p><img src="http://i4.buimg.com/567571/5ec3be1341468f8d.png" alt=""></p>
<p>执行以下命令部署到Github上。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo g</div><div class="line">hexo d</div></pre></td></tr></table></figure>
<p>如果执行hexo d命令报错：</p>
<p>就先安装一下hexo-deployer-git这个模块：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-deployer-git --save</div></pre></td></tr></table></figure>
<p>安装好了继续执行<code>hexo d</code>部署命令，输入gitHub的账号密码，就可以访问了。我的是：cclouds.github.io</p>
<h3 id="发表一篇文章"><a href="#发表一篇文章" class="headerlink" title="发表一篇文章"></a>发表一篇文章</h3><p>1.在Git Bash执行命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo new &quot;my new post&quot;</div></pre></td></tr></table></figure>
<p>2.在E:\hexo\source_post中打开my-new-post.md，打开方式使用记事本或者其他文本工具。<br>hexo中写文章使用的是Markdown，这里推荐使用typora这个工具</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">title: my new post #可以改成中文的，如“新文章”</div><div class="line">date: 2017-04-27 16:04:09 #发表日期，一般不改动</div><div class="line">categories: blog #文章文类</div><div class="line">tags: [文章] #文章标签，多于一项时用这种格式，只有一项时使用tags: blog</div><div class="line">---</div><div class="line">#这里是正文，用markdown写，你可以选择写一段显示在首页的简介后，加上</div><div class="line">&lt;!--more--&gt;，在&lt;!--more--&gt;之前的内容会显示在首页，之后的内容会被隐藏，当游客点击Read more才能看到。</div></pre></td></tr></table></figure>
<p>写完文章后，你可以使用1.hexo g生成静态文件。2.hexo s在本地预览效果。3.hexo d同步到github，然后使用<a href="http://cclouds.github.io">http://cclouds.github.io</a> 进行访问</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;hexo-github个人博客搭建&quot;&gt;&lt;a href=&quot;#hexo-github个人博客搭建&quot; class=&quot;headerlink&quot; title=&quot;hexo+github个人博客搭建&quot;&gt;&lt;/a&gt;hexo+github个人博客搭建&lt;/h2&gt;&lt;h2 id=&quot;安装前提软
    
    </summary>
    
    
      <category term="hexo系列" scheme="http://cclouds.github.io/tags/hexo%E7%B3%BB%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Mycat学习笔记</title>
    <link href="http://cclouds.github.io/2017/04/28/Mycat%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://cclouds.github.io/2017/04/28/Mycat学习笔记/</id>
    <published>2017-04-28T01:26:46.000Z</published>
    <updated>2017-05-02T05:46:12.298Z</updated>
    
    <content type="html"><![CDATA[<h3 id="MyCat原理"><a href="#MyCat原理" class="headerlink" title="MyCat原理"></a>MyCat原理</h3><p>Mycat实际上只是一个数据库的中间件，他并不存储任何数据。所以当有一天我们不用Mycat了只需要把mysql中的数据归集以后就能正常使用。</p>
<p>Mycat的作用是统一出口，查询缓存，查询优化。</p>
<p> <img src="http://i2.muimg.com/567571/b976e7ec976a374c.png" alt=""></p>
<p>###MyCat特点</p>
<p>1.支持 SQL 92标准 支持Mysql集群，可以作为Proxy使用 支持JDBC连接ORACLE、DB2、SQL Server，将其模拟为MySQL Server使用 支持galera for mysql集群，percona-cluster或者mariadb cluster，提供高可用性数据分片集群，自动故障切换，高可用性 。<br>2.支持读写分离(参考具体的schema.xml配置)。<br>3.支持Mysql双主多从，以及一主多从的模式 。<br>4.支持全局表。<br>5.支持数据自动分片到多个节点，用于高效表关联查询 。<br>6.垮库join，支持独有的基于E-R 关系的分片策略，实现了高效的表关联查询多平台支持，部署和实施简单。<br>7.支持nosql数据库mongoDB。</p>
<p>###安装环境</p>
<p>系统：windows<br>JDK版本：1.7<br>MySql客户端：navicat<br>MyCat下载地址：<a href="http://dl.mycat.io/1.6-RELEASE/" target="_blank" rel="external">http://dl.mycat.io/1.6-RELEASE/</a></p>
<p>###安装步骤<br> 1.下载安装包解压<br> 2.配置环境变量</p>
<p> <img src="http://i4.buimg.com/567571/7c82e3e4550132d6.png" alt=""></p>
<p> <img src="http://i4.buimg.com/567571/126870d42b192ce4.png" alt=""></p>
<p>3.进入D:\mycat\bin  修改 schema.xml</p>
<p> <img src="http://i1.piimg.com/567571/d7dbf6d5975da0a8.png" alt=""></p>
<p>Schema</p>
<p>​     name:逻辑库名称，sqlMaxLimit:默认显示条数</p>
<p>Table</p>
<p>​     name:逻辑表名称，rule:分片规则</p>
<p> 4.进入D:\mycat\bin  修改 Server.xml  该文件配置MyCat连接的账户信息<img src="http://i4.buimg.com/567571/ac077a4b23ae7f28.png" alt=""></p>
<p> 5.进入D:\mycat\bin  修改 rule.xml </p>
<p> <img src="http://i1.piimg.com/567571/403afe5e7d85b227.png" alt=""></p>
<p> <img src="http://i2.muimg.com/567571/98b95cc9ccb690f9.png" alt=""></p>
<p>tableRule</p>
<p>​    name:规则名称 ， column:分片的列 ，algorithm:function的名字</p>
<p>function</p>
<p>​    name:方法名称 ， class:实现分片的具体类</p>
<p>6.启动MayCat,双击startup_nowrap.bat启动mycat服务 </p>
<p> <img src="http://i2.muimg.com/567571/ba72aed1b8a24048.png" alt=""></p>
<p>7.打开navicat客户端，连接mycat。 账户：root，密码：123456，端口：8066</p>
<p>  <img src="http://i2.muimg.com/567571/09df7a50f09ff344.png" alt=""></p>
<p>8.连接mysql ，账户：root，密码：123456，端口：3306</p>
<p>  <img src="http://i2.muimg.com/567571/ad72de509f176563.png" alt=""></p>
<p>根据rule2分片：</p>
<p>在mysql  db1,db2,db3,db4每个库下面建立表t_user，创建表脚本如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> t_user;</div><div class="line"></div><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> t_user (</div><div class="line"></div><div class="line">user_id <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'用户ID'</span>,</div><div class="line"></div><div class="line">receive_address <span class="built_in">varchar</span>(<span class="number">256</span>) <span class="keyword">COLLATE</span> utf8_unicode_ci <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'收货地址'</span>,</div><div class="line"></div><div class="line">create_time datetime <span class="keyword">NOT</span> <span class="literal">NULL</span>,</div><div class="line"></div><div class="line">province_code <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="keyword">COLLATE</span> utf8_unicode_ci <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</div><div class="line"></div><div class="line">PRIMARY <span class="keyword">KEY</span> (user_id)</div><div class="line"></div><div class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 <span class="keyword">COLLATE</span>=utf8_unicode_ci <span class="keyword">COMMENT</span>=<span class="string">'用户信息表'</span>;</div></pre></td></tr></table></figure>
<p> <img src="http://i1.piimg.com/567571/fd9b22c3659e260a.png" alt=""></p>
<p>在mycat的TESTDB下面的的表t_user插入3000条数据，数据自动分配到4个mysql数据库中。</p>
<p>根据sharding-by-month分片：</p>
<p> 在mysql  db1-db12每个库下面建立表wallet_profit，创建表脚本如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> wallet_profit;</div><div class="line"></div><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> wallet_profit (</div><div class="line"></div><div class="line"><span class="keyword">id</span> <span class="built_in">bigint</span>(<span class="number">18</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</div><div class="line"></div><div class="line">member_id <span class="built_in">bigint</span>(<span class="number">18</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'会员ID'</span>,</div><div class="line"></div><div class="line">profit_date <span class="built_in">date</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'计息时间'</span>,</div><div class="line"></div><div class="line">prod_id <span class="built_in">bigint</span>(<span class="number">18</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</div><div class="line"></div><div class="line">wallet_amount <span class="built_in">bigint</span>(<span class="number">22</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'金额'</span>,</div><div class="line"></div><div class="line">day_wallet_profit <span class="built_in">bigint</span>(<span class="number">22</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'昨日总利息'</span>,</div><div class="line"></div><div class="line">base_profit <span class="built_in">bigint</span>(<span class="number">22</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'基础利息'</span>,</div><div class="line"></div><div class="line">coupon_profit <span class="built_in">bigint</span>(<span class="number">22</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'加息券利息'</span>,</div><div class="line"></div><div class="line">annual_rate <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'基础年化'</span>,</div><div class="line"></div><div class="line">coupon_rate <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'加息券年化'</span>,</div><div class="line"></div><div class="line">gmt_create datetime <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</div><div class="line"></div><div class="line">gmt_modify datetime <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</div><div class="line"></div><div class="line">PRIMARY <span class="keyword">KEY</span> (<span class="keyword">id</span>),</div><div class="line"></div><div class="line"><span class="keyword">KEY</span> idx_withdraw_profit_member_id (member_id) <span class="keyword">USING</span> BTREE,</div><div class="line"></div><div class="line"><span class="keyword">KEY</span> idx_withdraw_profit_date (profit_date) <span class="keyword">USING</span> BTREE</div><div class="line"></div><div class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> AUTO_INCREMENT=<span class="number">1</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 <span class="keyword">COMMENT</span>=<span class="string">'收益表'</span>;</div></pre></td></tr></table></figure>
<p>  <img src="http://i1.piimg.com/567571/e823c6e82469b8b8.png" alt=""></p>
<p>在mycat的TESTDB下面的的表wallet_profit插入以下数据，数据将按照月份分配到12个数据库中。</p>
 <figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000000287210'</span>, <span class="string">'600000000000015303'</span>, <span class="string">'2016-01-01'</span>, <span class="string">'100000000000000001'</span>, <span class="string">'4000300'</span>, <span class="string">'1100'</span>, <span class="string">'876'</span>, <span class="string">'219'</span>, <span class="string">'80000'</span>, <span class="string">'20000'</span>, <span class="string">'2016-01-02 00:40:00'</span>, <span class="string">'2016-01-02 00:40:00'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000001100149'</span>, <span class="string">'600000000000059488'</span>, <span class="string">'2016-02-01'</span>, <span class="string">'100000000000000001'</span>, <span class="string">'2000248200'</span>, <span class="string">'548000'</span>, <span class="string">'438410'</span>, <span class="string">'109602'</span>, <span class="string">'80000'</span>, <span class="string">'20000'</span>, <span class="string">'2016-02-02 00:40:01'</span>, <span class="string">'2016-02-02 00:40:01'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000002350084'</span>, <span class="string">'600000000000328547'</span>, <span class="string">'2016-03-01'</span>, <span class="string">'100000000000000001'</span>, <span class="string">'300'</span>, <span class="string">'0'</span>, <span class="string">'0'</span>, <span class="string">'0'</span>, <span class="string">'80000'</span>, <span class="string">'20000'</span>, <span class="string">'2016-03-02 00:40:00'</span>, <span class="string">'2016-03-02 00:40:00'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000003981684'</span>, <span class="string">'600000000000005348'</span>, <span class="string">'2016-04-01'</span>, <span class="string">'100000000000000001'</span>, <span class="string">'20000000'</span>, <span class="string">'6000'</span>, <span class="string">'4383'</span>, <span class="string">'1643'</span>, <span class="string">'80000'</span>, <span class="string">'30000'</span>, <span class="string">'2016-04-02 00:10:00'</span>, <span class="string">'2016-04-02 00:10:00'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000005839454'</span>, <span class="string">'600000000000036991'</span>, <span class="string">'2016-05-01'</span>, <span class="string">'100000000000000001'</span>, <span class="string">'75783900'</span>, <span class="string">'20800'</span>, <span class="string">'16610'</span>, <span class="string">'4152'</span>, <span class="string">'80000'</span>, <span class="string">'20000'</span>, <span class="string">'2016-05-02 00:10:00'</span>, <span class="string">'2016-05-02 00:10:00'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000007989136'</span>, <span class="string">'600000000000009157'</span>, <span class="string">'2016-06-01'</span>, <span class="string">'100000000000000001'</span>, <span class="string">'941194900'</span>, <span class="string">'283600'</span>, <span class="string">'206289'</span>, <span class="string">'77358'</span>, <span class="string">'80000'</span>, <span class="string">'30000'</span>, <span class="string">'2016-06-02 00:10:00'</span>, <span class="string">'2016-06-02 00:10:00'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000010286130'</span>, <span class="string">'600000000000362561'</span>, <span class="string">'2016-07-01'</span>, <span class="string">'100000000000000001'</span>, <span class="string">'1949012700'</span>, <span class="string">'587400'</span>, <span class="string">'427180'</span>, <span class="string">'160192'</span>, <span class="string">'80000'</span>, <span class="string">'30000'</span>, <span class="string">'2016-07-02 00:10:00'</span>, <span class="string">'2016-07-02 00:10:00'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000012917800'</span>, <span class="string">'600000000000543800'</span>, <span class="string">'2016-08-01'</span>, <span class="string">'100000000000000656'</span>, <span class="string">'4930000'</span>, <span class="string">'1200'</span>, <span class="string">'1080'</span>, <span class="string">'135'</span>, <span class="string">'80000'</span>, <span class="string">'10000'</span>, <span class="string">'2016-08-02 00:10:00'</span>, <span class="string">'2016-08-02 00:10:00'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000016961611'</span>, <span class="string">'600000000000614085'</span>, <span class="string">'2016-09-01'</span>, <span class="string">'100000000000000656'</span>, <span class="string">'250068500'</span>, <span class="string">'68500'</span>, <span class="string">'54809'</span>, <span class="string">'13702'</span>, <span class="string">'80000'</span>, <span class="string">'20000'</span>, <span class="string">'2016-09-02 00:10:00'</span>, <span class="string">'2016-09-02 00:10:00'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000023765373'</span>, <span class="string">'600000000000006820'</span>, <span class="string">'2016-10-01'</span>, <span class="string">'100000000000000656'</span>, <span class="string">'434073900'</span>, <span class="string">'130800'</span>, <span class="string">'95139'</span>, <span class="string">'35677'</span>, <span class="string">'80000'</span>, <span class="string">'30000'</span>, <span class="string">'2016-10-02 00:10:00'</span>, <span class="string">'2016-10-02 00:10:00'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000031369981'</span>, <span class="string">'600000000000684383'</span>, <span class="string">'2016-11-01'</span>, <span class="string">'100000000000000656'</span>, <span class="string">'630350900'</span>, <span class="string">'172700'</span>, <span class="string">'138159'</span>, <span class="string">'34539'</span>, <span class="string">'80000'</span>, <span class="string">'20000'</span>, <span class="string">'2016-11-02 00:10:00'</span>, <span class="string">'2016-11-02 00:10:00'</span>);</div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> wallet_profit (<span class="keyword">id</span>, member_id, profit_date, prod_id, wallet_amount, day_wallet_profit, base_profit, coupon_profit, annual_rate, coupon_rate, gmt_create, gmt_modify) <span class="keyword">VALUES</span> (<span class="string">'100000000039289911'</span>, <span class="string">'600000000000732505'</span>, <span class="string">'2016-12-01'</span>, <span class="string">'100000000000000656'</span>, <span class="string">'35000000'</span>, <span class="string">'11500'</span>, <span class="string">'7671'</span>, <span class="string">'3835'</span>, <span class="string">'80000'</span>, <span class="string">'40000'</span>, <span class="string">'2016-12-02 00:10:00'</span>, <span class="string">'2016-12-02 00:10:00'</span>);</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;MyCat原理&quot;&gt;&lt;a href=&quot;#MyCat原理&quot; class=&quot;headerlink&quot; title=&quot;MyCat原理&quot;&gt;&lt;/a&gt;MyCat原理&lt;/h3&gt;&lt;p&gt;Mycat实际上只是一个数据库的中间件，他并不存储任何数据。所以当有一天我们不用Mycat了只需要把
    
    </summary>
    
    
      <category term="MyCat" scheme="http://cclouds.github.io/tags/MyCat/"/>
    
  </entry>
  
</feed>
